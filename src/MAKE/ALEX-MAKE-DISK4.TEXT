$EXEC
{Optionally formats LOS install disk 4 and copies the installer files to it}

$WRITE "Insert a diskette for LOS Install Disk 4 into the drive and press return..."
$READLN %1
$DOIT
F{ilemgr}I{nitialize}lower
$IF EXISTS('-lower') THEN {If we want to init and its already an LOS disk}
    Y{es, destroy current directory}{Format full size of disk}
$ELSE
    {Format fill size of disk}
$ENDIF
Office System 4 3.0 {Disk name}
25 {Max number of files on disk}
Q{uit}

{Now copy over all our files}
F{ilemgr}C{opy}APIN/LISADESK_PACKED.OBJ {PACKED}
-LOWER-shell.Office System
C{opy}system.BadPageMsg.lotus {WE NEVER MADE THIS, BUT NOT CODE, SO WHO CARES}
-LOWER-system.BadPageMsg.lotus
C{opy}OBJECT/SYSTEM.BT_SONY.OBJ
-LOWER-SYSTEM.BT_SONY
C{opy}OBJECT/SYSTEM.CD_PARALLELC.OBJ
-LOWER-SYSTEM.CD_Parallel Cable
C{opy}OBJECT/SYSTEM.CD_SERIALC.OBJ
-LOWER-SYSTEM.CD_Serial Cable
C{opy}LIBPR/CIALERTS.PHRASE
-LOWER-SYSTEM.CIALERTS.PHRASE
C{opy}LIBPR/CNALERTS.PHRASE
-LOWER-SYSTEM.CNALERTS.PHRASE
C{opy}APDM/DMALEXPHRASE
-LOWER-SYSTEM.DMALEXALERTSPHRASE
C{opy}LIBPR/DW.PHRASE
-LOWER-SYSTEM.DW.PHRASE
C{opy}LIBPR/PARENT.PHRASE
-LOWER-SYSTEM.PARENT.PHRASE
C{opy}LIBPR/PR.PHRASE
-LOWER-SYSTEM.PR.PHRASE
C{opy}SYSTEM.PRD {WE NEVER MADE THIS, BUT JUST A CONFIG FILE, SO WHO CARES}
-LOWER-SYSTEM.PRD
C{opy}APIN/SYSTEM.PRINT_PACKED.OBJ {PACKED}
-LOWER-System.Print
C{opy}APIN/DOTMAT_PACKED.OBJ {PACKED}
-LOWER-SYSTEM.PR_Imagewriter / || DMP
C{opy}APIN/INKJET_PACKED.OBJ {PACKED}
-LOWER-SYSTEM.PR_Ink Jet Printer
C{opy}APIN/SHELL_PACKED.OBJ {PACKED}
-LOWER-SYSTEM.SHELL
C{opy}LIBPR/CIBTNDATA
-LOWER-CIBTNDATA
C{opy}LIBPR/CNBTNDATA
-LOWER-CNBTNDATA
C{opy}LIBPR/DWBTNDATA
-LOWER-DWBTNDATA
C{opy}INTRINSIC.LIB
-LOWER-INTRINSIC.LIB
C{opy}LIBPR/PARBTNDATA
-LOWER-PARBTNDATA
C{opy}APPW/T11BUTTONS
-LOWER-~{T11~}buttons
C{opy}APPW/T11PHRASE
-LOWER-~{T11~}PHRASE
C{opy}APHP/T12PHRASE
-LOWER-~{T12~}PHRASE
C{opy}APIN/CLOCK_PACKED.OBJ {PACKED}
-LOWER-~{T13~}Obj
C{opy}APIN/TIMER_PACKED.OBJ {PACKED}
-LOWER-~{T13~}Obj1
C{opy}APCL/T13PHRASE
-LOWER-~{T13~}PHRASE
Q{uit}

{Set up the disk's intrinsic.lib with the packed libs}
R{un}IUMANAGER
-LOWER-INTRINSIC.LIB {Input lib}
-LOWER-INTRINSIC.LIB {Output lib}
{First change the lib paths to the packed ones}
F{iles}C{hange}1{OBJIOLIB}
APIN/OBJIOLIB_PACKED.OBJ
C{hange}3{IOSPASLIB}
APIN/IOSPASLIB_PACKED.OBJ
C{hange}4{SYS1LIB}
APIN/SYS1LIB_PACKED.OBJ
C{hange}5{IOSFPLIB}
APIN/IOSFPLIB_PACKED.OBJ
C{hange}6{SYS2LIB}
APIN/SYS2LIB_PACKED.OBJ
C{hange}7{PRLIB}
APIN/PRLIB_PACKED.OBJ
C{hange}8{LCORBGLIB}
APIN/LCORBGLIB_PACKED.OBJ
C{hange}9{QPLIB}
APIN/QPLIB_PACKED.OBJ
C{hange}10{TKLIB}
APIN/TKLIB_PACKED.OBJ
C{hange}11{TK2LIB}
APIN/TK2LIB_PACKED.OBJ
C{hange}12{SULIB}
APIN/SULIB_PACKED.OBJ
{Then install all of them into the directory}
I{nstall}1{OBJIOLIB}
I{nstall}3{IOSPASLIB}
I{nstall}4{SYS1LIB}
I{nstall}5{IOSFPLIB}
I{nstall}6{SYS2LIB}
I{nstall}7{PRLIB}
I{nstall}8{LCORBGLIB}
I{nstall}9{QPLIB}
I{nstall}10{TKLIB}
I{nstall}11{TK2LIB}
I{nstall}12{SULIB}
{And finally, change the paths back to the standard ones}
C{hange}1{OBJIOLIB}
-#BOOT-OBJIOLIB.OBJ
C{hange}3{IOSPASLIB}
-#BOOT-IOSPASLIB.OBJ
C{hange}4{SYS1LIB}
-#BOOT-SYS1LIB.OBJ
C{hange}5{IOSFPLIB}
-#BOOT-IOSFPLIB.OBJ
C{hange}6{SYS2LIB}
-#BOOT-SYS2LIB.OBJ
C{hange}7{PRLIB}
-#BOOT-PRLIB.OBJ
C{hange}8{LCORBGLIB}
-#BOOT-LCORBGLIB.OBJ
C{hange}9{QPLIB}
-#BOOT-QPLIB.OBJ
C{hange}10{TKLIB}
-#BOOT-TKLIB.OBJ
C{hange}11{TK2LIB}
-#BOOT-TK2LIB.OBJ
C{hange}12{SULIB}
-#BOOT-SULIB.OBJ
Q{uit}Y{es, write out INTRINSIC.LIB}
F{ilemgr}U{nmount}lower
Q{uit}

$ENDEXEC
